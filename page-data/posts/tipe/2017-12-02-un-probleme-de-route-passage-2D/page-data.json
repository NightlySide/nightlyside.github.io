{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/tipe/2017-12-02-un-probleme-de-route-passage-2D","result":{"data":{"site":{"siteMetadata":{"title":"Alexandre Froehlich"}},"markdownRemark":{"id":"383654fd-36ce-5cf2-876a-b797f390df80","excerpt":"La deuxième étape consiste à passer la simulation à deux dimensions en vue d’implémenter les déviations et intersections. On peut encore séparer cette étape en plusieurs sous-étapes : création d’une grille qui va accueillir la route, à la manière d’un plateau contenant des cartes ou des jetons, puis création de la route et finalement adaptation des véhicules au nouveau système de route en 2 dimensions. Création de la grille A quoi devra ressembler la grille ? Pour répondre à cette question on pose les conditions de déroulement de la simulation : la grille devra contenir W cases en largeur et H cases en hauteur la simulation comportera T itérations Alors la grille sera représentée par un tableau à 3 dimensions de taille  alors  retournera l’état de la grille à l’instant . Avec le système actuel d’exportation de tableau qui consiste à attribuer une couleur par case (0 pour blanc, 1 pour vert et 2 pour orange pale) avec chaque couleur associée à un élément de la simulation (respectivement vide, route et véhicule). Le code ci-dessus retournera une grille de la bonne taille. Le remplissage étant aléatoire pour mettre en évidence la structure de la grille, un exemple est le suivant :  Création de la route On entame dès à présent une des parties des plus compliquées avec la création de la route. On définit la route comme étant l’ensemble des positions prises par un chemin pour aller d’un point A à un point B.  En prenant les coordonnées de  et  alors le chemin correspondant sera : Algorithme Pour créer la route on initialise un tableau contenant les positions de chaque case. On commence par la case du début puis on choisis la prochaine de façon relativement simple, on sera probablement amené qu’à créer des droites ou des angles droits, il n’est donc pas nécessaire de se compliquer la tâche. Une fois qu’on est arrivée à la dernière case on retourne la liste crée. A partir de cet algorithme on peut maintenant créer une nouvelle fonction qui prendra une liste de positions par lesquelles le chemin devra passer et qui retournera un tel chemin. Comme on suppose le tracé global simple, on segmente le chemin en traçant la route entre 2 positions à chaque fois. A noter qu’écrire  permet de donner autant d’argument à la fonction qu’on le souhaite Par exemple écrire le code ci-dessous : Correspondra à la grille suivante :  Faire avancer les voitures Maintenant qu’on a la grille ainsi que la route qui la parcourt, il est temps de faire avancer les voiture. Pour cela on…","tableOfContents":"<ul>\n<li><a href=\"/tipe/2017-12-02-un-probleme-de-route-passage-2D/#cr%C3%A9ation-de-la-grille\">Création de la grille</a></li>\n<li>\n<p><a href=\"/tipe/2017-12-02-un-probleme-de-route-passage-2D/#cr%C3%A9ation-de-la-route\">Création de la route</a></p>\n<ul>\n<li><a href=\"/tipe/2017-12-02-un-probleme-de-route-passage-2D/#algorithme\">Algorithme</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/tipe/2017-12-02-un-probleme-de-route-passage-2D/#faire-avancer-les-voitures\">Faire avancer les voitures</a></p>\n<ul>\n<li><a href=\"/tipe/2017-12-02-un-probleme-de-route-passage-2D/#recherche-des-voisins-possibles\">Recherche des voisins possibles</a></li>\n<li><a href=\"/tipe/2017-12-02-un-probleme-de-route-passage-2D/#nouveau-calcul-de-la-distance\">Nouveau calcul de la distance</a></li>\n<li><a href=\"/tipe/2017-12-02-un-probleme-de-route-passage-2D/#d%C3%A9placer-la-voiture\">Déplacer la voiture</a></li>\n</ul>\n</li>\n<li><a href=\"/tipe/2017-12-02-un-probleme-de-route-passage-2D/#r%C3%A9sultat\">Résultat</a></li>\n</ul>","timeToRead":6,"html":"<p>La deuxième étape consiste à passer la simulation à deux dimensions en vue d’implémenter les déviations et intersections. On peut encore séparer cette étape en plusieurs sous-étapes : création d’une grille qui va accueillir la route, à la manière d’un plateau contenant des cartes ou des jetons, puis création de la route et finalement adaptation des véhicules au nouveau système de route en 2 dimensions.</p>\n<h2 id=\"création-de-la-grille\" style=\"position:relative;\"><a href=\"#cr%C3%A9ation-de-la-grille\" aria-label=\"création de la grille permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Création de la grille</h2>\n<p>A quoi devra ressembler la grille ? Pour répondre à cette question on pose les conditions de déroulement de la simulation :</p>\n<ul>\n<li>la grille devra contenir <strong>W</strong> cases en largeur et <strong>H</strong> cases en hauteur</li>\n<li>la simulation comportera <strong>T</strong> itérations</li>\n</ul>\n<p>Alors la grille sera représentée par un tableau à 3 dimensions de taille <span class=\"mjx-chtml\"><span class=\"mjx-math\" aria-label=\"T\\times H\\times W\"><span class=\"mjx-mrow\" aria-hidden=\"true\"><span class=\"mjx-mi\"><span class=\"mjx-char MJXc-TeX-math-I\" style=\"padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;\">T</span></span><span class=\"mjx-mo MJXc-space2\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.225em; padding-bottom: 0.298em;\">×</span></span><span class=\"mjx-mi MJXc-space2\"><span class=\"mjx-char MJXc-TeX-math-I\" style=\"padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.057em;\">H</span></span><span class=\"mjx-mo MJXc-space2\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.225em; padding-bottom: 0.298em;\">×</span></span><span class=\"mjx-mi MJXc-space2\"><span class=\"mjx-char MJXc-TeX-math-I\" style=\"padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;\">W</span></span></span></span></span> alors <span class=\"mjx-chtml\"><span class=\"mjx-math\" aria-label=\"\\text{grille}[t]\"><span class=\"mjx-mrow\" aria-hidden=\"true\"><span class=\"mjx-mtext\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.372em; padding-bottom: 0.519em;\">grille</span></span><span class=\"mjx-mo\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.446em; padding-bottom: 0.593em;\">[</span></span><span class=\"mjx-mi\"><span class=\"mjx-char MJXc-TeX-math-I\" style=\"padding-top: 0.372em; padding-bottom: 0.298em;\">t</span></span><span class=\"mjx-mo\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.446em; padding-bottom: 0.593em;\">]</span></span></span></span></span> retournera l’état de la grille à l’instant <span class=\"mjx-chtml\"><span class=\"mjx-math\" aria-label=\"t\"><span class=\"mjx-mrow\" aria-hidden=\"true\"><span class=\"mjx-mi\"><span class=\"mjx-char MJXc-TeX-math-I\" style=\"padding-top: 0.372em; padding-bottom: 0.298em;\">t</span></span></span></span></span>.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">grille_random</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">,</span> h<span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    Crée une grille de façon analogue à grille(w, h, t)\n    Et préremplie la grille avec des valeurs aléatoires\n    Retourne un tableau de dimension 3 (x, y, t)\n    \"\"\"</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>randrange<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>Avec le système actuel d’exportation de tableau qui consiste à attribuer une couleur par case (0 pour blanc, 1 pour vert et 2 pour orange pale) avec chaque couleur associée à un élément de la simulation (respectivement vide, route et véhicule). Le code ci-dessus retournera une grille de la bonne taille. Le remplissage étant aléatoire pour mettre en évidence la structure de la grille, un exemple est le suivant :</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAAB25ZzzUKCAf/EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEAAQUCH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABkQAAEFAAAAAAAAAAAAAAAAAAABEBEgMf/aAAgBAQABPyGyY0n/2gAMAwEAAgADAAAAEEzvwP/EABcRAQEBAQAAAAAAAAAAAAAAAAEAEEH/2gAIAQMBAT8Qc5K3/8QAFhEAAwAAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EHT/xAAeEAACAgAHAAAAAAAAAAAAAAAAAREhEDFBUWFxgf/aAAgBAQABPxCeibuyHo4G6ywp8+CUe8kQmxsqR//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Grille aléatoire\"\n        title=\"Grille aléatoire\"\n        src=\"/static/eeb2d25c756437eb002224a92a1dc5f4/41099/random.jpg\"\n        srcset=\"/static/eeb2d25c756437eb002224a92a1dc5f4/cb69c/random.jpg 320w,\n/static/eeb2d25c756437eb002224a92a1dc5f4/41099/random.jpg 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"création-de-la-route\" style=\"position:relative;\"><a href=\"#cr%C3%A9ation-de-la-route\" aria-label=\"création de la route permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Création de la route</h2>\n<p>On entame dès à présent une des parties des plus compliquées avec la création de la route. On définit la route comme étant l’ensemble des positions prises par un chemin pour aller d’un point <em>A</em> à un point <em>B</em>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 263px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100.38022813688212%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB9a60sEc9LKD/xAAcEAEAAQQDAAAAAAAAAAAAAAABAAIREhMDMUH/2gAIAQEAAQUC8exLXcVZQuOxxeRmxJ//xAAXEQADAQAAAAAAAAAAAAAAAAAAARAR/9oACAEDAQE/AdHf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHBAAAgEFAQAAAAAAAAAAAAAAADEBECFBodHh/9oACAEBAAY/AvCOC0IiwqQjB//EAB0QAAMAAgIDAAAAAAAAAAAAAAABESFBMXFRYZH/2gAIAQEAAT8hfWYhjRyXUbBw9dlns8jSO/o48LQ48OQkIlB//9oADAMBAAIAAwAAABBgIDz/xAAXEQEAAwAAAAAAAAAAAAAAAAABABAh/9oACAEDAQE/EIwt/wD/xAAXEQADAQAAAAAAAAAAAAAAAAAAARAR/9oACAECAQE/EMFf/8QAHBABAAICAwEAAAAAAAAAAAAAAQARMUFRYdEh/9oACAEBAAE/EK3chVb5i9T0XwwGFuafkzJjR1AOsBacMBxDeRzKxp0eu4MLFtPD3CJwwU+z/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"AtoB\"\n        title=\"AtoB\"\n        src=\"/static/360523960ad56b5a06e2d3f5c0c08133/5d001/AtoB.jpg\"\n        srcset=\"/static/360523960ad56b5a06e2d3f5c0c08133/5d001/AtoB.jpg 263w\"\n        sizes=\"(max-width: 263px) 100vw, 263px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>En prenant les coordonnées de <span class=\"mjx-chtml\"><span class=\"mjx-math\" aria-label=\"A = (0,0)\"><span class=\"mjx-mrow\" aria-hidden=\"true\"><span class=\"mjx-mi\"><span class=\"mjx-char MJXc-TeX-math-I\" style=\"padding-top: 0.519em; padding-bottom: 0.298em;\">A</span></span><span class=\"mjx-mo MJXc-space3\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.077em; padding-bottom: 0.298em;\">=</span></span><span class=\"mjx-mo MJXc-space3\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.446em; padding-bottom: 0.593em;\">(</span></span><span class=\"mjx-mn\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.372em; padding-bottom: 0.372em;\">0</span></span><span class=\"mjx-mo\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"margin-top: -0.144em; padding-bottom: 0.519em;\">,</span></span><span class=\"mjx-mn MJXc-space1\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.372em; padding-bottom: 0.372em;\">0</span></span><span class=\"mjx-mo\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.446em; padding-bottom: 0.593em;\">)</span></span></span></span></span> et <span class=\"mjx-chtml\"><span class=\"mjx-math\" aria-label=\"B = (2,2)\"><span class=\"mjx-mrow\" aria-hidden=\"true\"><span class=\"mjx-mi\"><span class=\"mjx-char MJXc-TeX-math-I\" style=\"padding-top: 0.446em; padding-bottom: 0.298em;\">B</span></span><span class=\"mjx-mo MJXc-space3\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.077em; padding-bottom: 0.298em;\">=</span></span><span class=\"mjx-mo MJXc-space3\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.446em; padding-bottom: 0.593em;\">(</span></span><span class=\"mjx-mn\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.372em; padding-bottom: 0.372em;\">2</span></span><span class=\"mjx-mo\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"margin-top: -0.144em; padding-bottom: 0.519em;\">,</span></span><span class=\"mjx-mn MJXc-space1\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.372em; padding-bottom: 0.372em;\">2</span></span><span class=\"mjx-mo\"><span class=\"mjx-char MJXc-TeX-main-R\" style=\"padding-top: 0.446em; padding-bottom: 0.593em;\">)</span></span></span></span></span> alors le chemin correspondant sera :</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">chemin <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h3 id=\"algorithme\" style=\"position:relative;\"><a href=\"#algorithme\" aria-label=\"algorithme permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Algorithme</h3>\n<p>Pour créer la route on initialise un tableau contenant les positions de chaque case. On commence par la case du début puis on choisis la prochaine de façon relativement simple, on sera probablement amené qu’à créer des droites ou des angles droits, il n’est donc pas nécessaire de se compliquer la tâche. Une fois qu’on est arrivée à la dernière case on retourne la liste crée.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">chemin</span><span class=\"token punctuation\">(</span>pos1<span class=\"token punctuation\">,</span> pos2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token triple-quoted-string string\">\"\"\"\n  Permet de créer un chemin entre deux coordonnées pos1, et pos2\n  Prends en argument 2 positions (x, y)\n  Retourne une liste de positions correspondant au chemin crée\n  \"\"\"</span>\n  x1<span class=\"token punctuation\">,</span> y1 <span class=\"token operator\">=</span> pos1\n  x2<span class=\"token punctuation\">,</span> y2 <span class=\"token operator\">=</span> pos2\n  c <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>pos1<span class=\"token punctuation\">]</span>\n  pos <span class=\"token operator\">=</span> pos1\n  <span class=\"token keyword\">while</span> pos <span class=\"token operator\">!=</span> pos2<span class=\"token punctuation\">:</span>\n      x<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> pos\n      <span class=\"token keyword\">if</span> x <span class=\"token operator\">></span> x2<span class=\"token punctuation\">:</span>\n          x <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n      <span class=\"token keyword\">elif</span> x <span class=\"token operator\">&lt;</span> x2<span class=\"token punctuation\">:</span>\n          x <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n      <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n          <span class=\"token keyword\">if</span> y <span class=\"token operator\">></span> y2<span class=\"token punctuation\">:</span>\n              y <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n          <span class=\"token keyword\">elif</span> y <span class=\"token operator\">&lt;</span> y2<span class=\"token punctuation\">:</span>\n              y <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n      pos <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span>\n      c<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>pos<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> c</code></pre></div>\n<p>A partir de cet algorithme on peut maintenant créer une nouvelle fonction qui prendra une liste de positions par lesquelles le chemin devra passer et qui retournera un tel chemin. Comme on suppose le tracé global simple, on segmente le chemin en traçant la route entre 2 positions à chaque fois.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">chemin_complexe</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>positions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    Permet de créer un chemin complexe, c'est à dire\n    un chemin qui passe par n positions\n    Retourne le chemin passant par les positions\n    \"\"\"</span>\n    c <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>positions<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        cprime <span class=\"token operator\">=</span> chemin<span class=\"token punctuation\">(</span>positions<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> positions<span class=\"token punctuation\">[</span>k<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        c <span class=\"token operator\">=</span> c <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span>cprime<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">return</span> c</code></pre></div>\n<blockquote>\n<p>A noter qu’écrire <code class=\"language-text\">*positions</code> permet de donner autant d’argument à la fonction qu’on le souhaite</p>\n</blockquote>\n<p>Par exemple écrire le code ci-dessous :</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">route <span class=\"token operator\">=</span> chemin_complexe<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">48</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">48</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">48</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">48</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token number\">48</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">(</span><span class=\"token number\">48</span><span class=\"token punctuation\">,</span> <span class=\"token number\">48</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">48</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Correspondra à la grille suivante :</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHdpMwRABM//8QAFhAAAwAAAAAAAAAAAAAAAAAAEBEg/9oACAEBAAEFAgr/AP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABwQAAICAgMAAAAAAAAAAAAAAAABETFBYRBxkf/aAAgBAQABPyFVgjrgqweDUk6ROkWf/9oADAMBAAIAAwAAABDX74P/xAAYEQEBAAMAAAAAAAAAAAAAAAABABAxYf/aAAgBAwEBPxA1JzDf/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQEWH/2gAIAQIBAT8QRWQz/8QAHBABAAMBAAMBAAAAAAAAAAAAAQARIXFhgaHw/9oACAEBAAE/EBYa9pxClxDk0MivEKrw5CufCfoRbXQcn//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"chemin_sur_route\"\n        title=\"chemin_sur_route\"\n        src=\"/static/81d976e2269d8093e3836339a9201cb6/41099/chemin_sur_route.jpg\"\n        srcset=\"/static/81d976e2269d8093e3836339a9201cb6/cb69c/chemin_sur_route.jpg 320w,\n/static/81d976e2269d8093e3836339a9201cb6/41099/chemin_sur_route.jpg 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"faire-avancer-les-voitures\" style=\"position:relative;\"><a href=\"#faire-avancer-les-voitures\" aria-label=\"faire avancer les voitures permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Faire avancer les voitures</h2>\n<p>Maintenant qu’on a la grille ainsi que la route qui la parcourt, il est temps de faire avancer les voiture. Pour cela on réutilise le même principe que celui vu dans le post précédent. Cependant un problème nous fait face, en effet comment savoir quelle sera la prochaine case que l’algorithme devra explorer ?</p>\n<h3 id=\"recherche-des-voisins-possibles\" style=\"position:relative;\"><a href=\"#recherche-des-voisins-possibles\" aria-label=\"recherche des voisins possibles permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Recherche des voisins possibles</h3>\n<p>Une solution est de chercher toutes les cases qui juxtapose une position donnée (i.e. qui sont juste à côté de la case), on teste chacune des cases pour savoir si il s’agit bien d’une route. Si oui on l’ajoute à la liste des voisins possible, sinon on passe à la suivante. Une fois qu’on a testé toutes les cases on retourne la liste des cases possibles.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">cherche_voisins</span><span class=\"token punctuation\">(</span>chemin<span class=\"token punctuation\">,</span> pos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    Permet de renvoyer les voisins possibles juxtaposant\n    la position actuelle\n    Retourne une liste de positions\n    \"\"\"</span>\n    y<span class=\"token punctuation\">,</span> x <span class=\"token operator\">=</span> pos\n    voisins <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">for</span> k <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> k<span class=\"token operator\">!=</span><span class=\"token number\">0</span> <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">+</span>k<span class=\"token punctuation\">)</span> <span class=\"token keyword\">in</span> chemin<span class=\"token punctuation\">:</span>\n            voisins<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token operator\">+</span>k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> k<span class=\"token operator\">!=</span><span class=\"token number\">0</span> <span class=\"token keyword\">and</span> <span class=\"token punctuation\">(</span>y<span class=\"token operator\">+</span>k<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span> <span class=\"token keyword\">in</span> chemin<span class=\"token punctuation\">:</span>\n            voisins<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>y<span class=\"token operator\">+</span>k<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> voisins</code></pre></div>\n<p>Pour choisir la case suivante on liste celle possible, on cherche la case la plus proche de celle à atteindre. Dans le cas où on a une déviation, l’algorithme choisira le chemin le plus court “à vol d’oiseau”. Ce qui à l’air au premier abord de ressembler à la réalité. Enfin.. c’est logique quoi :)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">voisin_plus_proche</span><span class=\"token punctuation\">(</span>pos<span class=\"token punctuation\">,</span> voisins<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    Retourne le voisin le plus proche d'une position donnée\n    Cela permet de décider dans quelle direction aller pour\n    atteindre un point donné\n    Retourne une position\n    \"\"\"</span>\n    <span class=\"token keyword\">assert</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>voisins<span class=\"token punctuation\">)</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span>\n    x<span class=\"token punctuation\">,</span> y <span class=\"token operator\">=</span> pos\n    dmin <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"inf\"</span><span class=\"token punctuation\">)</span>\n    vproche <span class=\"token operator\">=</span> voisins<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span> voisin <span class=\"token keyword\">in</span> voisins<span class=\"token punctuation\">:</span>\n        distance <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">-</span>voisin<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token operator\">+</span><span class=\"token punctuation\">(</span>y<span class=\"token operator\">-</span>voisin<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> distance <span class=\"token operator\">&lt;</span> dmin<span class=\"token punctuation\">:</span>\n            dmin <span class=\"token operator\">=</span> distance\n            vproche <span class=\"token operator\">=</span> voisin\n    <span class=\"token keyword\">return</span> vproche</code></pre></div>\n<h3 id=\"nouveau-calcul-de-la-distance\" style=\"position:relative;\"><a href=\"#nouveau-calcul-de-la-distance\" aria-label=\"nouveau calcul de la distance permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nouveau calcul de la distance</h3>\n<p>L’algorithme du post précédent avait besoin de connaître la distance de la voiture à celle qui lui précédait pour la phase de décélération. Maintenant on ne peux plus juste calculer la distance cartésienne entre les deux points à cause de la forme de la route. Pour la calculer il suffit de partir de la position de la voiture et de remonter le chemin jusqu’à rencontrer la voiture suivante.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">distance</span><span class=\"token punctuation\">(</span>pos1<span class=\"token punctuation\">,</span> pos2<span class=\"token punctuation\">,</span> chemin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    Essayer de calculer la distance entre 2 cases d'une grille\n    en suivant un chemin donné\n    Retourne un entier correspondant à la longueur du chemin à faire\n    entre le point pos1 et pos2\n    \"\"\"</span>\n    <span class=\"token comment\"># On vérifie que les positions appartiennent au chemin</span>\n    <span class=\"token keyword\">assert</span> pos1 <span class=\"token keyword\">in</span> route <span class=\"token keyword\">and</span> pos2 <span class=\"token keyword\">in</span> chemin\n    pos <span class=\"token operator\">=</span> pos1\n    d <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">while</span> pos <span class=\"token operator\">!=</span> pos2<span class=\"token punctuation\">:</span>\n        voisins <span class=\"token operator\">=</span> cherche_voisins<span class=\"token punctuation\">(</span>chemin<span class=\"token punctuation\">,</span> pos<span class=\"token punctuation\">)</span>\n        pos <span class=\"token operator\">=</span> voisin_plus_proche<span class=\"token punctuation\">(</span>pos<span class=\"token punctuation\">,</span> voisins<span class=\"token punctuation\">)</span>\n        d <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> d</code></pre></div>\n<h3 id=\"déplacer-la-voiture\" style=\"position:relative;\"><a href=\"#d%C3%A9placer-la-voiture\" aria-label=\"déplacer la voiture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Déplacer la voiture</h3>\n<p>Maintenant qu’on a calculé tout ce qu’il fallait, il ne reste plus qu’à déplacer la voiture le long du chemin à l’aide de tout ce qu’on a définit plus haut. Pour cela on part de la position initiale (<em>pos</em>) puis on parcourt le chemin d’un nombre de cases égal à la vitesse de la voiture (<em>vitesse</em>) si il y avait déjà une voiture, par sécurité on s’arrête, sinon on continue jusqu’à ce qu’on ait terminé.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">avance</span><span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">,</span> pos_i<span class=\"token punctuation\">,</span> vitesse<span class=\"token punctuation\">,</span> chemin<span class=\"token punctuation\">,</span> grille<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    Calcule la prochaine position d'une voiture sur un chemin\n    en fonction de sa vitesse et de la voiture précédente\n    Si la voiture devant est à l'arret la voiture actuelle\n    s'arrêtera juste avant\n    Retourne une position ainsi que le nombre de case parcourues\n    \"\"\"</span>\n    pos <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>pos_i<span class=\"token punctuation\">]</span>\n    dt <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">while</span> dt <span class=\"token operator\">&lt;</span> vitesse<span class=\"token punctuation\">:</span>\n        nouvelle_pos <span class=\"token operator\">=</span> voisin_suivant<span class=\"token punctuation\">(</span>route<span class=\"token punctuation\">,</span> pos<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        i<span class=\"token punctuation\">,</span> j <span class=\"token operator\">=</span> nouvelle_pos\n        <span class=\"token keyword\">if</span> grille<span class=\"token punctuation\">[</span>t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>pos<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">)</span>\n        pos<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>nouvelle_pos<span class=\"token punctuation\">)</span>\n        dt <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>pos<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"résultat\" style=\"position:relative;\"><a href=\"#r%C3%A9sultat\" aria-label=\"résultat permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Résultat</h2>\n<p>On réapplique le même procédé que pour la situation linéaire. On prends sur la route du dessus 100 voitures roulant à 130 km/h maximum et on calcule la simulation sur 250 itérations. On calcule chaque itération puis on exporte la grille à chaque instant. En assemblant les images dans un GIF animé, on obtient l’animation suivante :</p>\n<p><img src=\"/d3f260ae49e8e112fe309083a07a23c3/sim_2D_anim.gif\" alt=\"sim_2D_anim\"></p>","frontmatter":{"date":"December 02, 2017","title":"[TIPE] Un problème de route - Passage en 2D (3/4)","slug":null,"tags":["python","TIPE","route"],"layout":"post","published":true,"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAQACBf/EABYBAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAAB7YOctmP/xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAYEAACAwAAAAAAAAAAAAAAAAAAEAExQf/aAAgBAQABPyF4RS//2gAMAwEAAgADAAAAEDwf/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxDXCn//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxBX/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERITFBUXHh/9oACAEBAAE/EGoizst+o57hGQbdH//Z","aspectRatio":2,"src":"/static/68188bafd3bd222fc5df041664485325/14b42/random_front.jpg","srcSet":"/static/68188bafd3bd222fc5df041664485325/f836f/random_front.jpg 200w,\n/static/68188bafd3bd222fc5df041664485325/2244e/random_front.jpg 400w,\n/static/68188bafd3bd222fc5df041664485325/14b42/random_front.jpg 800w,\n/static/68188bafd3bd222fc5df041664485325/47498/random_front.jpg 1200w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"headings":[{"value":"Création de la grille","depth":2,"id":"création-de-la-grille"},{"value":"Création de la route","depth":2,"id":"création-de-la-route"},{"value":"Algorithme","depth":3,"id":"algorithme"},{"value":"Faire avancer les voitures","depth":2,"id":"faire-avancer-les-voitures"},{"value":"Recherche des voisins possibles","depth":3,"id":"recherche-des-voisins-possibles"},{"value":"Nouveau calcul de la distance","depth":3,"id":"nouveau-calcul-de-la-distance"},{"value":"Déplacer la voiture","depth":3,"id":"déplacer-la-voiture"},{"value":"Résultat","depth":2,"id":"résultat"}]}},"pageContext":{"slug":"tipe/2017-12-02-un-probleme-de-route-passage-2D","previous":{"fields":{"slug":"tipe/2017-12-01-un-probleme-de-route-modele-info"},"frontmatter":{"tags":["python","TIPE","route"],"title":"[TIPE] Un problème de route - Le modèle informatique (2/4)","date":"2017-12-01T12:00:00.000Z","slug":null,"layout":"post","published":true}},"next":{"fields":{"slug":"tipe/2017-12-09-un-probleme-de-route-final"},"frontmatter":{"tags":["python","TIPE","route"],"title":"[TIPE] Un problème de route - Le final (4/4)","date":"2017-12-09T12:00:00.000Z","slug":null,"layout":"post","published":true}}}},"staticQueryHashes":["3433897746","712016698","781468736"]}